\documentclass[a4paper]{ctexbook}

\usepackage{geometry}
\geometry{left=3cm,right=3cm,top=4.0cm,bottom=4.0cm}

\hfuzz=100.0pt   % TODO: 临时解决方案


\usepackage{graphicx}
\usepackage{subcaption}

\newcommand{\para}[1]{\noindent {\bf #1}}%remove \smallskip

\newcommand{\codeword}[1]{\texttt{\small{#1}}}

%%%%%%%%%%%%%%%%%%%%% BNF
\newcommand{\rulesep}{\unskip\ \vrule\ }
\newcommand \bnfdef  {\mathrel{\color{blue}{::=}}}
\newcommand \bnfalt  {\mathrel{\color{blue}{|}}}

\newcommand \keyfont {\mathsf}
\newcommand \ONPKT {\keyfont{onPacket(pkt)}}
\newcommand \WHILE  {\keyfont{while}}
\newcommand \IF     {\keyfont{if}}
\newcommand \THEN     {\keyfont{then}}
\newcommand \SKIP   {\keyfont{skip}}
\newcommand \RETURN   {\keyfont{return}}
\newcommand \ADD   {\keyfont{add}}
\newcommand \CONTAINS   {\keyfont{contains}}
\newcommand \GET   {\keyfont{get}}
\newcommand \PUT   {\keyfont{put}}
\newcommand \GLOBAL   {\keyfont{global}}
\newcommand \forl   {\keyfont{for}}
\newcommand \while[2]   {\WHILE\ {#1}\ {#2}}
\newcommand \ifelse[3]  {\IF\ {#1}:{#2}\ \THEN:{#3}}
\newcommand \return[1]   { \RETURN\ {#1}}
\newcommand \CYCLIC  {\keyfont{loop}}
\newcommand \cyclic[1]   { \CYCLIC\ {#1}}

\newcommand \JUMP  {\keyfont{jump}}
\newcommand \CJUMP  {\keyfont{cjump}}
\newcommand \LBL  {\keyfont{label}}

\newcommand \jump[1]   { \JUMP\ {#1}}
\newcommand \cjump[3]   { \CJUMP\ {#1}\ {#2}\ {#3}}
\newcommand \lbl[1]   { \LBL\ {#1}}

\newcommand \tx {\mathtt{x}}
\newcommand \ty {\mathtt{y}}
\newcommand \tz {\mathtt{z}}
\newcommand \tg {\mathtt{g}}
 
\begin{document}
\input{stateful-chap}

 
\end{document}